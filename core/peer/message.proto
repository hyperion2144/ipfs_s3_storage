syntax = "proto3";

package peer;
option go_package = "./;peer";

message Error {
  string detail = 1;
}

message SendMessage {
  enum Type {
    Remove = 0;
    Move = 1;
  }
  string cid = 1;
  optional string from = 2;
  Type type = 3;
}

message MessageResponse{
  optional Error err = 1;
}

message StreamResponse {
  oneof result {
    string cid = 1;
    Error err = 2;
  }
}

message UpdatePeer {
  message Peer{
    string cid = 1;
  }

  Peer peer = 1;
}